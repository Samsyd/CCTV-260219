# 컨테이너 및 차량 번호 인식 시스템 (LPR & CCR) 개발 계획서 (v1.2)

## 1. 프로젝트 개요
해상 운송용 컨테이너 차량의 번호판(LPR)과 상단 컨테이너 식별 번호(CCR)를 실시간으로 동시 추출하고 일자별로 저장하는 고성능 관제 시스템.

## 2. 핵심 기술 전략 (최고 성능 모드)

### A. 패턴 기반 지능형 인식 파이프라인 (Nova Pattern-Hunter)
1.  **1단계 [물체 탐지]:** YOLOv8을 이용해 차량 및 대형 객체 영역 1차 식별 (보조 수단).
2.  **2단계 [규격 필터링 엔진]:** 
    *   화면 전역에서 `[영문 4자] + [숫자 6~7자]` (BIC Code 표준) 패턴을 실시간 검색.
    *   영역(ROI)에 의존하지 않고 데이터 구조 자체를 검증의 핵심으로 활용.
3.  **3단계 [전방위 OCR 및 다수결 확정]:**
    *   가로/세로/회전 문자열을 동시 분석하여 규격 매칭 수행.
    *   최소 2회 이상 동일 패턴 발견 시 최종 데이터로 확정.

### B. 데이터 관리 및 로깅
*   **파일 형식:** CSV (Comma-Separated Values)
*   **저장 규칙:** `logs/YYYY-MM-DD_gate_log.csv` (일자별 자동 생성)
*   **기록 항목:** `Timestamp | Type (LPR/CCR) | Result | Confidence | Snapshot Path`

## 3. 구현 로드맵 및 현재 상태
*   ✅ Phase 1: AI 환경 구축 (PyTorch, EasyOCR, YOLO)
*   ✅ Phase 2: 기본 LPR 성공 사례 확보 (차량 번호 인식 확인)
*   🔄 Phase 3: 상단 CCR 인식 고도화 및 일자별 로깅 통합 (진행 중)

---
**작성자:** 노바 (Nova)
**최종 업데이트:** 2026-02-18
